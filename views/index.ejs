<% layout("/layouts/boilerplate") %>
<br>
<!-- <h1>All listing</h1> -->

<div id="filters">
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-fire"></i>
    </div>
    <p>Trending</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-bed"></i>
    </div>
    <p>Rooms</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-umbrella-beach"></i>
    </div>
    <p>Sea View</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-mountain-city"></i>
    </div>
    <p>Mountain City</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-snowflake"></i>
    </div>
    <p>Arctic</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-ship"></i>
    </div>
    <p>Boat House</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-water-ladder"></i>
    </div>
    <p>Pools</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-chess-rook"></i>
    </div>
    <p>Castle</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-tree"></i>
    </div>
    <p>Nature</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-campground"></i>
    </div>
    <p>Camping</p>
  </div>
  <div class="filter">
    <div class="ic">
      <i class="fa-solid fa-wheat-awn"></i>
    </div>
    <p>Farm</p>
  </div>

  <div class="taxToggle">
    <div class="form-check form-switch form-check-reverse">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault"> &nbsp; Display Taxes </label> 
    </div>
  </div>

</div>

<div class="row row-cols-lg-4 row-cols-md-3 row-cols-sm-3">
  <% for(i of data){ %>
    <a href="/details/<%= i.id %>">
      <div class="card listing-card col" style="width: 20rem;">
        <img src=" <%= i.image.url %> " class="img" alternate="<%= i.image.filename %>" style="height: 20rem;">
        <div class="card-img-overlay">&nbsp; &nbsp; <%= i.location %> </div>
        <div class="card-body">
          <div class="card-text"><p><b> <%= i.title %> </b><br> &#8377 <%= i.price.toLocaleString("en-IN") %> /night 
          <i class="taxInfo"> &nbsp; +18% GST </i> <p>
          </div>
        </div>
      </div>
    </a>
    <br> <br> <br> 
  <% } %>
</div>

<script>
  let taxSwitch = document.getElementById("flexSwitchCheckDefault");
  taxSwitch.addEventListener("click",()=>{
    let taxinfo = document.getElementsByClassName("taxInfo");
    for(info of taxinfo){
      if(info.style.display != "inline"){
        info.style.display = "inline";
      } else {
        info.style.display = "none";
      }
    }
  })
</script>